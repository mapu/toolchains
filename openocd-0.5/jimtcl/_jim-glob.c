/* autogenerated - do not edit */
#include <jim.h>
int Jim_globInit(Jim_Interp *interp)
{
	if (Jim_PackageProvide(interp, "glob", "1.0", JIM_ERRMSG)) return JIM_ERR;
	return Jim_Eval_Named(interp, "\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"package require readdir\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"proc glob {args} {\n"
"\n"
"\n"
"\n"
"\n"
"	local proc glob.readdir_pattern {dir pattern} {\n"
"		set result {}\n"
"\n"
"\n"
"		if {$pattern in {. ..}} {\n"
"			return $pattern\n"
"		}\n"
"\n"
"\n"
"		if {[string match {*[*?]*} $pattern]} {\n"
"\n"
"			set files [readdir -nocomplain $dir]\n"
"		} elseif {[file isdir $dir] && [file exists $dir/$pattern]} {\n"
"			set files [list $pattern]\n"
"		} else {\n"
"			set files \"\"\n"
"		}\n"
"\n"
"		foreach name $files {\n"
"			if {[string match $pattern $name]} {\n"
"\n"
"				if {[string index $name 0] eq \".\" && [string index $pattern 0] ne \".\"} {\n"
"					continue\n"
"				}\n"
"				lappend result $name\n"
"			}\n"
"		}\n"
"\n"
"		return $result\n"
"	}\n"
"\n"
"\n"
"\n"
"\n"
"\n"
"	proc glob.expandbraces {pattern} {\n"
"\n"
"\n"
"		if {[set fb [string first \"\\{\" $pattern]] < 0} {\n"
"			return $pattern\n"
"		}\n"
"		if {[set nb [string first \"\\}\" $pattern $fb]] < 0} {\n"
"			return $pattern\n"
"		}\n"
"		set before [string range $pattern 0 $fb-1]\n"
"		set braced [string range $pattern $fb+1 $nb-1]\n"
"		set after [string range $pattern $nb+1 end]\n"
"\n"
"		lmap part [split $braced ,] {\n"
"			set pat $before$part$after\n"
"		}\n"
"	}\n"
"\n"
"\n"
"	proc glob.glob {pattern} {\n"
"		set dir [file dirname $pattern]\n"
"		if {$dir eq $pattern} {\n"
"\n"
"			return [list $dir]\n"
"		}\n"
"\n"
"\n"
"		set dirlist [glob.glob $dir]\n"
"		set pattern [file tail $pattern]\n"
"\n"
"\n"
"		set result {}\n"
"		foreach dir $dirlist {\n"
"			set globdir $dir\n"
"			if {[string match \"*/\" $dir]} {\n"
"				set sep \"\"\n"
"			} elseif {$dir eq \".\"} {\n"
"				set globdir \"\"\n"
"				set sep \"\"\n"
"			} else {\n"
"				set sep /\n"
"			}\n"
"			foreach pat [glob.expandbraces $pattern] {\n"
"				foreach name [glob.readdir_pattern $dir $pat] {\n"
"					lappend result $globdir$sep$name\n"
"				}\n"
"			}\n"
"		}\n"
"		return $result\n"
"	}\n"
"\n"
"\n"
"	set nocomplain 0\n"
"\n"
"	if {[lindex $args 0] eq \"-nocomplain\"} {\n"
"		set nocomplain 1\n"
"		set args [lrange $args 1 end]\n"
"	}\n"
"\n"
"	set result {}\n"
"	foreach pattern $args {\n"
"		lappend result {*}[glob.glob $pattern]\n"
"	}\n"
"\n"
"	if {$nocomplain == 0 && [llength $result] == 0} {\n"
"		return -code error \"no files matched glob patterns\"\n"
"	}\n"
"\n"
"	return $result\n"
"}\n", "glob.tcl", 1);
}
